applications:
- name: textProc
  instances: 1
  memory: 1G
  path: target/textProc-0.0.2-SNAPSHOT.jar
  routes:
    - route: textproc.apps.kdc01-dvs-lab-mgt.net
  env:
    SPRING_PROFILES_ACTIVE: cloud,scdf
    JBP_CONFIG_OPEN_JDK_JRE: '{ jre: { version: 21.+ } }'
    JBP_CONFIG_SPRING_AUTO_RECONFIGURATION: '{enabled: false}'
    JBP_JAVA_PID_MODE: true
    JBP_CONFIG_CONTAINER_SECURITY_PROVIDER: '{tomcat: { use_https: false }}'
    SERVER_PORT: 8081
    MANAGEMENT_SERVER_PORT: 8081
    MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS: always
    MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE: health,info
    JBP_JAVA_TOOL_OPTIONS: '-XX:ReservedCodeCacheSize=32M -XX:MaxMetaspaceSize=120M -Xss512k -Xms256m -Xmx768m -Djava.security.egd=file:///dev/urandom -Dfile.encoding=UTF-8'
    HEALTH_CHECK_HTTP_RESPONSE: 200
    SPRING_APPLICATION_JSON: |
      {
        "server.port": 8081,
        "management.endpoints.web.exposure.include": "health,info",
        "management.endpoint.health.show-details": "always",
        "management.endpoint.health.probes.enabled": true,
        "management.health.defaults.enabled": true,
        "management.health.diskspace.enabled": true,
        "management.endpoint.health.show-components": "always",
        "management.endpoint.metrics.access": "unrestricted"
      }
    APP_PROCESSOR_STANDALONE_INPUT_DIRECTORY: ./data/input_files
    APP_PROCESSOR_STANDALONE_OUTPUT_DIRECTORY: ./data/output_text
    APP_PROCESSOR_STANDALONE_ERROR_DIRECTORY: ./data/error_files
    APP_PROCESSOR_STANDALONE_PROCESSED_DIRECTORY: ./data/processed_files
    FILE_PROCESSING_CHUNK_SIZE: 1024
    FILE_PROCESSING_MAX_RETRIES: 3
    FILE_PROCESSING_RETRY_DELAY: 1000
  health-check-type: http
  health-check-http-endpoint: /actuator/health
  timeout: 180
